library(tidyverse)
read_csv("Urban_Forestry_Street_Trees.csv")
trees <- read_csv("Urban_Forestry_Street_Trees.csv")
glimpse(trees)
tree_ward <- trees %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_ward)
class(DATE_PLANT)
class(`DATE_PLANT`)
class(trees$DATE_PLANT)
classify(trees$DATE_PLANT)
View(trees)
library(lubridate)
trees$year_planted <- (format(trees$DATE_PLANT, "%Y"))
View(trees)
year_planted <- trees %>%
group_by(`year_planted`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(year_planted)
year_planted <- trees %>%
group_by(`year_planted`, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
year_planted <- trees %>%
group_by( WARD, `year_planted`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
year_planted <- trees %>%
group_by( `year_planted`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
subset_trees <- trees %>%
subset(trees$year_planted < 2005)
View(subset_trees)
subset_trees <- trees %>%
subset(trees$year_planted > 2005)
tree_names <- trees %>%
group_by( `CMMN_NM`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_names)
library(tidyverse)
library(lubridate)
tree_genus <- trees %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_genus)
write_csv(tree_genus, "tree_genus.csv")
write_csv(year_planted, "year_planted.csv")
trees_2017 <- trees %>%
subset(trees$year_planted = 2017)
trees_2017 <- trees %>%
subset(trees$year_planted == 2017)
trees_2016 <- trees %>%
subset(trees$year_planted == 2016)
write_csv(trees_2017, "2017_trees.csv")
write_csv(trees_2016, "2016_trees.csv")
write_csv(tree_ward, "trees_by_ward.csv")
tree_ward <- trees_2017 %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_ward <- trees_2016  %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_ward_2017 <- trees_2017 %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_ward <- trees %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_ward_2016 <- trees_2016  %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
write_csv(tree_ward_2016, "2016_trees_ward.csv")
write_csv(tree_ward_2017, "2017_trees_ward.csv")
View(tree_ward_2016)
View(tree_ward_2017)
View(tree_ward)
View(trees_2016)
View(trees)
library(tidyverse)
library(lubridate)
tree_health <- trees %>%
group_by(TBOX_STAT) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_health)
tree_ward <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_ward)
tree_health <- trees %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" , TBOX_STAT == "Open" ) %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" ) %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
library(tidyr)
tree_health_together <- tree_health %>%
spread(WARD, TBOX_STAT)
View(tree_health_together)
tree_health_together <- tree_health %>%
spread(WARD, count)
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
tree_health_together = mutate(tree_health_together,
pct_full = Open / Plant)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#this groups the dataframe in a more digestable way using the tidyr spread command,
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count) %>%
mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count) %>%
mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#this groups the dataframe in a more digestable way using the tidyr spread command,
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
#now we can look at the percentage of open tboxes by ward
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
subset_trees <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
subset(trees$year_planted > 2005)
subset_trees <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
subset(trees$year_planted > 2005)
subset_trees <- trees %>%
subset(trees$year_planted > 2005)
tree_ward_2016 <- trees_2016  %>%
filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_names <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
group_by( `CMMN_NM`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_names)
trees <- read_csv("Urban_Forestry_Street_Trees.csv")
glimpse(trees)
#this query examines the trees database and pulls out the tbox status and groups it by ward.
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#this groups the dataframe in a more digestable way using the tidyr spread command,
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
#now we can look at the percentage of open tboxes by ward
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
View(trees)
type(trees$DATE_PLANT)
trees$year_planted <- (format(trees$DATE_PLANT, "%Y"))
type(trees$DATE_PLANT)
library(tidyverse)
library(lubridate)
library(tidyr)
trees$year_planted <- (format(trees$DATE_PLANT, "%Y"))
year_planted <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
group_by( `year_planted`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(year_planted)
subset_trees <- trees %>%
subset(trees$year_planted > 2001)
View(subset_trees)
subset_trees_since_2001 <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`, TBOX_STAT) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(subset_trees_since_2001)
#and we can see where the trees have been planted by ward
subset_trees_since_2001 <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
2001_subset_trees <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
o2001_subset_trees <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(o2001_subset_trees)
tree_ward_2017 <- trees_2017 %>%
filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted == 2017 ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_ward_2017 <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted == 2017 ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_ward_2017)
tree_ward_2017 <- trees %>%
#filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted == 2017 ) %>%
group_by(`WARD`) %>%
summarise(sum(count=n())) #%>%
#arrange(desc(`count`))
View(tree_ward_2017)
tree_2017_ward <- trees %>%
#filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted == 2017 ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_2017_ward)
tree_2017_ward_1 <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted == 2017 ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_2017_ward_1)
o2001_subset_trees <- trees  %>%
#filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted > 2001) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
p2001_subset_trees <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" ) %>%
group_by(`WARD`) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(o2001_subset_trees)
View(p2001_subset_trees)
#looks at the number of each genus of tree in the city
tree_PRE2001_genus <- trees %>%
filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted < 2001) %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#looks at the number of each genus of tree in the city
tree_POST2001_genus <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" )  %>%
filter(year_planted > 2001) %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_POST2001_genus)
View(tree_POST2001_genus)
View(tree_PRE2001_genus)
View(tree_PRE2001_genus)
tree_PRE2001_genus <- trees %>%
#filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted < 2001) %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_POST2001_genus <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" )  %>%
filter(year_planted > 2001) %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_POST2001_genus <- subset_trees  %>%
#filter(TBOX_STAT == "Plant" )  %>%
filter(year_planted > 2001) %>%
#group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_PRE2001_genus <- trees %>%
#filter(TBOX_STAT == "Plant" ) %>%
filter(year_planted < 2001) %>%
# group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#this groups the dataframe in a more digestable way using the tidyr spread command,
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
#now we can look at the percentage of open tboxes by ward
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100))
View(tree_health_together)
View(trees)
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" & TBOX_STAT == "Open" & TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_health)
#this query examines the trees database and pulls out the tbox status and groups it by ward.
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
View(tree_health_together)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100)
pct_proposed =(((Open + Plant)/ Proposed) * 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100),
pct_proposed =(((Open + Plant)/ Proposed) * 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open / Plant)* 100),
pct_proposed =((( Proposed)/(Open + Plant))* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Proposed + Plant))* 100),
pct_proposed =(( Proposed/(Open + Plant))* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( Proposed/(Open + Plant))* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( Proposed/(Open ))* 100)
)
#now we can look at the percentage of open tboxes by ward
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100)
)
View(tree_health)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100)
)
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
#now we can look at the percentage of open tboxes by ward
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100)
)
View(tree_health_together)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( (Open + Plant)/ Proposed)* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( Proposed/ (Open + Plant))* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( Open/ (Proposed + Plant))* 100)
)
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( (Open-Proposed) / Plant)* 100)
)
tree_health <- trees %>%
group_by(TBOX_STAT) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#this query examines the trees database and pulls out the tbox status and groups it by ward.
tree_health <- trees %>%
filter(TBOX_STAT == "Plant" | TBOX_STAT == "Open" | TBOX_STAT == "Proposed") %>%
group_by(TBOX_STAT, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#this groups the dataframe in a more digestable way using the tidyr spread command,
tree_health_together <- tree_health %>%
spread(TBOX_STAT, count)
#now we can look at the percentage of open tboxes by ward
tree_health_together = mutate(tree_health_together,
pct_empty = ((Open /(Plant))* 100),
pct_proposed =(( (Open-Proposed) / Plant)* 100)
)
tree_tbox <- trees %>%
group_by(TBOX_STAT) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_tbox)
tree_POST2001_genus <- subset_trees  %>%
filter(TBOX_STAT == "Plant" )  %>%
#filter(year_planted > 2000) %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#looks at the number of each genus of tree in the city
tree_POST2001_genus <- trees  %>%
filter(TBOX_STAT == "Plant" )  %>%
#filter(year_planted > 2000) %>%
group_by(GENUS_NAME) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(trees)
View(tree_health_together)
View(tree_tbox)
View(trees)
tree_condition <- trees %>%
group_by(CONDITION) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
View(tree_condition)
tree_condition <- trees %>%
group_by(CONDITION, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_condition <- trees %>%
filter(CONDITION == "Good" | CONDITION == "Dead")
group_by(CONDITION, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_condition <- trees %>%
filter(CONDITION == "Good" | CONDITION == "Dead")  %>%
group_by(CONDITION, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
tree_condition <- trees %>%
filter( CONDITION == "Dead")  %>%
group_by(CONDITION, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
#let's look at the Tboxx field, it's been idded by staff as important
tree_condition <- trees %>%
filter( CONDITION == "Fair")  %>%
group_by(CONDITION, WARD) %>%
summarise(count=n()) %>%
arrange(desc(`count`))
new_df <- sorted_bikes %>%
group_by(`Operator`, BikeID) %>%
summarize(Earliest=min(StartDate), Latest=max(EndDate), days=(difftime(Latest, Earliest, tz= EST, units = "days")))
sorted_bikes<-bikes  %>%
arrange(desc(StartDate)) %>%
arrange(desc(BikeID))
